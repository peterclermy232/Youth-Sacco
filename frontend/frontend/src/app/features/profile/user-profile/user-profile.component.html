<div class="profile-container">
      <div class="profile-header">
        <div class="profile-banner"></div>
        <div class="profile-main">
          <div class="profile-photo-wrapper">
            <img
              [src]="user()?.profilePhoto || 'assets/default-avatar.png'"
              alt="Profile"
              class="profile-photo"
            />
            <button class="change-photo-btn" (click)="changePhoto()">
              üì∑
            </button>
          </div>
          <div class="profile-info">
            <h1>{{ user()?.fullName }}</h1>
            <p class="designation">{{ user()?.designation || 'Member' }}</p>
            <div class="profile-badges">
              <span class="badge role-badge">{{ user()?.role }}</span>
              <span class="badge status-badge">{{ user()?.status || 'Active' }}</span>
            </div>
          </div>
          <div class="profile-actions">
            <button class="btn-primary" routerLink="/member/profile/edit">
              ‚úèÔ∏è Edit Profile
            </button>
          </div>
        </div>
      </div>

      <div class="profile-content">
        <div class="profile-section">
          <h2>Personal Information</h2>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">Email:</span>
              <span class="value">{{ user()?.email }}</span>
            </div>
            <div class="info-item">
              <span class="label">Phone:</span>
              <span class="value">{{ user()?.phone }}</span>
            </div>
            <div class="info-item">
              <span class="label">Age:</span>
              <span class="value">{{ user()?.age }} years</span>
            </div>
            <div class="info-item">
              <span class="label">Gender:</span>
              <span class="value">{{ user()?.gender }}</span>
            </div>
            <div class="info-item">
              <span class="label">Marital Status:</span>
              <span class="value">{{ user()?.maritalStatus }}</span>
            </div>
            @if (user()?.maritalStatus === 'married') {
              <div class="info-item">
                <span class="label">Number of Kids:</span>
                <span class="value">{{ user()?.numberOfKids || 0 }}</span>
              </div>
            }
            <div class="info-item">
              <span class="label">Profession:</span>
              <span class="value">{{ user()?.profession }}</span>
            </div>
            <div class="info-item">
              <span class="label">Salary Range:</span>
              <span class="value">{{ user()?.salaryRange }}</span>
            </div>
          </div>
        </div>

        @if (user()?.maritalStatus === 'married') {
          <div class="profile-section">
            <div class="section-header">
              <h2>Spouse Details</h2>
              <button class="btn-secondary" routerLink="/member/profile/spouse">
                {{ spouse() ? '‚úèÔ∏è Edit' : '+ Add' }} Spouse
              </button>
            </div>
            @if (spouse()) {
              <div class="info-grid">
                <div class="info-item">
                  <span class="label">Name:</span>
                  <span class="value">{{ spouse()?.fullName }}</span>
                </div>
                <div class="info-item">
                  <span class="label">Age:</span>
                  <span class="value">{{ spouse()?.age }} years</span>
                </div>
                <div class="info-item">
                  <span class="label">Profession:</span>
                  <span class="value">{{ spouse()?.profession || 'Not specified' }}</span>
                </div>
                <div class="info-item">
                  <span class="label">Phone:</span>
                  <span class="value">{{ spouse()?.phone || 'Not specified' }}</span>
                </div>
              </div>
            } @else {
              <div class="empty-state-small">
                <p>No spouse details added yet</p>
              </div>
            }
          </div>

          <div class="profile-section">
            <div class="section-header">
              <h2>Children</h2>
              <button class="btn-secondary" routerLink="/member/profile/children">
                {{ children().length > 0 ? 'üëÅÔ∏è View All' : '+ Add' }} Children
              </button>
            </div>
            @if (children().length > 0) {
              <div class="children-list">
                @for (child of children(); track child.id) {
                  <div class="child-card">
                    <div class="child-info">
                      <h4>{{ child.fullName }}</h4>
                      <span class="child-age">Age: {{ child.age }} years</span>
                    </div>
                    <span class="child-cert">‚úì Birth Certificate</span>
                  </div>
                }
              </div>
            } @else {
              <div class="empty-state-small">
                <p>No children added yet</p>
              </div>
            }
          </div>
        }
      </div>
    </div>
