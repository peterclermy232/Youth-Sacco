<!-- notification-center.component.html -->

<div class="notification-header">
  <h2>Notifications</h2>

  <div class="actions">
    <button (click)="markAllAsRead()">Mark all as read</button>
  </div>
</div>

<div class="filters">
  <button (click)="filter('ALL')">All</button>
  <button (click)="filter('FINANCIAL')">Financial</button>
  <button (click)="filter('ADMIN')">Admin</button>
  <button (click)="filter('SUPPORT')">Support</button>
</div>

<div *ngIf="loading" class="loading">Loading...</div>

<div class="notification-list">
  <div
    class="notification-item"
    *ngFor="let n of filteredNotifications"
    [class.unread]="!n.read"
  >
    <mat-icon>
      {{
        n.category === 'FINANCIAL' ? 'account_balance_wallet' :
        n.category === 'ADMINISTRATIVE' ? 'admin_panel_settings' :
        n.category === 'SUPPORT' ? 'support_agent' :
        'notifications'
      }}
    </mat-icon>

    <div class="content" (click)="markAsRead(n)">
      <h4>{{ n.title }}</h4>
      <p>{{ n.message }}</p>
      <small>{{ n.created_at | date:'medium' }}</small>
    </div>

    <button class="delete" (click)="delete(n)">âœ•</button>
  </div>
</div>
